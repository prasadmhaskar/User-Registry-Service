<!DOCTYPE html>
<html>
<head>
    <title>Add Entry</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="js/api.js"></script>
</head>

<body class="bg-light">
<div class="container mt-4">

    <h2>Add New Entry</h2>

    <form id="addForm" class="mt-3">

        <label>Name:</label>
        <input type="text" id="name" class="form-control" required>
        <br>

        <label>Percentage:</label>
        <input type="number" step="0.01" id="percentage" class="form-control" required>
        <br>

        <label>Are you Married?</label>
        <input type="checkbox" id="married">
        <br>

        <button class="btn btn-primary mt-3">Submit</button>
    </form>

    <div id="result" class="mt-3"></div>

</div>

<script>
    document.getElementById("addForm").addEventListener("submit", async (e) => {
        e.preventDefault();

        let user = {
            name: document.getElementById("name").value,
            percentage: parseFloat(document.getElementById("percentage").value),
            married: document.getElementById("married").checked
        };

        const res = await addEntry(user);

        document.getElementById("result").innerHTML =
            `<div class='alert alert-success'>Entry Added! ID: ${res.id}</div>`;
    });
</script>

</body>
</html>
