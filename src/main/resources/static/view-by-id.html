<!DOCTYPE html>
<html>
<head>
    <title>View by ID</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="js/api.js"></script>
</head>

<body class="bg-light">
<div class="container mt-4">

    <h2>View Entry By ID</h2>

    <form id="idForm">
        <label>ID:</label>
        <input type="number" id="id" class="form-control">
        <button class="btn btn-info mt-3">Search</button>
    </form>

    <div id="result" class="mt-3"></div>

</div>

<script>
    document.getElementById("idForm").addEventListener("submit", async (e) => {
        e.preventDefault();
        const id = document.getElementById("id").value;
        const resultDiv = document.getElementById("result");

        try {
            // Clear previous results
            resultDiv.innerHTML = "Loading...";

            const u = await getEntryById(id);

            resultDiv.innerHTML =
                `<div class='card p-3 border-success'>
                    <p><b>ID:</b> ${u.id}</p>
                    <p><b>Name:</b> ${u.name}</p>
                    <p><b>Percentage:</b> ${u.percentage}</p>
                    <p><b>Married:</b> ${u.married ? "Yes" : "No"}</p>
                </div>`;
        } catch (error) {
            // SHOW THE ERROR IN RED
            resultDiv.innerHTML = `<div class='alert alert-danger'>${error.message}</div>`;
        }
    });
</script>

</body>
</html>
